WP 3 Berlin Meeting Minutes
===========================

Minutes of WP 3 Meeting in Berlin, May 3rd to May 5th, 2011

{{TOC}}

Current Status Task 3.1 / Task 3.1 Coordination Session
-------------------------------------------------------

See [[WP3 Berlin Meeting Preparation]] for details for each section.

### Web Application packaging, handling and run-time specification

The web application specification (Webinos_Core Web_application_packaging_handling_and_Web_Runtime_specification) is divided into two main parts. First, the definition of what a webinos application is (from a technical point of view, packaging, application interface and distributed application definition) and secondly the definition of application specific webinos web runtime environment requirements (e.g, application life cycle and web technologies to be supported by the runtime).

Progress made (with resources expended)

-   The current draft of the webinos application packaging specification is based on the W3C widget specification ("zipped resource files and a XML based configuration and meta data file"). (1.1 PM)
    -   A number of new XML elements were added whereas some of them were taken from the Task 2.3 requirements and others were introduced to support webinos specific application features.
    -   The related w3c widget JavaScript application interface specification is extended to cover the added elements
    -   extension to the w3c packaging to contain so called child applications (application packages within a main application package) which can be installed on other devices in order to work together are defined (including automatic or programmatic deployment of child applications)
-   Definition of how JavaScript functions can be exposed to other applications or between child and main application. (1.1 PM)
-   Specifying how (remotely) hosted applications can be executed. (1.1 PM)
-   Draft specifications of the application life-cycle handling and web standards to be supported by webinos web runtimes (0.6 PM)
-   Demo Implementation of child application approach for distributing applications (0.5 PM)

Planned next steps (actions) + anticipated resources

-   editorial: currently some parts of the specifications are only bullet point lists and some of the new elements are only briefly described (no examples of use yet) (0.7 PM)
-   based on the meeting outcome the distributed application sections must be adapted and completed (1.0 PM)
-   editing of specification for deliverable based comments of other partners (0.5 PM)
-   reviewing and commenting on specifications by other partners (0.8 PM)

Decisions that need to be made â€“ and communicated

-   Overlap between Application Execution (T3.2) and Eventing System (3.1/3.2) must be clarified
    -   Some pre-defined events must be defined and how events can be referenced must be clarified
        -   Remote installation of applications (transport application in payload vs. communicate an URI for requesting the package vs. get an endpoint for pushing an application to another device)
        -   It is planned to allow applications to register for automatic execution based on events => how can events be referenced e.g. from within config.xml (e.g., boot-up-completed or application specific ones)
        -   It is planned to allow applications to expose their functions to other applications (locally and remotely accessible). Since it is a related problem the approach for accessing remote APIs must be clarified. This includes also how to discover a specific device / application that exposes functionality and how to address these ones (application ID vs. instance ID) resp. how to establish communication (including streaming) between applications (e.g. via sockets).
-   Will it be allowed for non-webinos devices to take part in the "webinos environment"?
    -   external addressable interface (also from security/policy point of view) to webinos eventing and/or discovery systems etc (e.g. in order to allow application stores or web sites to publish "application update" events or to provide native services via events)?

We are looking for something similar to Android intents. I have put together a demo and will try to show it tomorrow. Should we allow for a mix of webinos and non-webinos devices? If we define an eventing system, other devices could implement it, but there may be some security challenges,

Further thought is needed for handling dynamically defined APIs. For instance, how to establish the availability of the remote service.

Stephan: What do you mean by dynamically defined APIs? Ones that are not known to us when defining the webinos platform.

Nick: isnâ€™t this something Stefano is working on? We should revisit this with him.

Dave thinks this is easy to handle via the notion of 3rd party components that add the APIs, where webinos defines the framework for doing so. Binding events would indicate a successful binding of the local API with the remote service (likewise for failure to bind).

### User ID and Data Management

Progress made (with resources expended)
So far we have achieved (approximately 7.5 PM):

-   investigated in relevant state-of-the-art
-   defined an initial architecture for authentication
-   created use cases to cover the typical cases in which authentication is required
-   created sequence diagrams to describe the high level flow of messages in these use cases
-   created activity diagrams to draw the big picture of interaction with other subtopics
-   built liaisons with other subtopics (Discovery, Overlay Network, Privacy & Security, Policy Management)
-   identified user data which is required for identification and authentication and which is to be synchronized among all the devices of the user
-   defined an initial architecture of where to store user data and how to synchronize it

The essentials at a very brief glance:

-   Authentication is different depending on the environment
    -   within a personal zone, authentication is done by using pre-shared keys
    -   between devices and services on the Internet, authentication is done using an Identity Provider
-   The Identity Provider (IDP) is hosted by any 3rd party who operates as certification authority. It can issue identifiers and tokens. The tokens are used for Single Sign-on (SSO)
-   Each personal zone has one Personal Zone Hub (PZH) which controls identification, addressing and authentication in the zone
    -   The PZH is accessible on the Internet
    -   The PZH has a unique address, represented by a URI
    -   Additional services can be used (e.g. WebFinger) to obtain the unique address from some other information (e.g. an email address of the user)
        -   The PZH stores
            -   a list of all the devices belonging to the zone
            -   all identifiers of the user and the devices
            -   policies
        -   The store in the PZH is synchronized into a local data cache on each device of the zone
        -   Each device has a Personal Zone Proxy (PZP) which has the functionality of the PZH in the case that the device cannot access the Internet and thus cannot access the PZH
-   Authentication is two way: first user authenticates to one of his devices, then this device authenticates to other devices/apps/services on behalf of the user

For details, see all the wiki pages on User Identity and Data Management.

Planned next steps (actions) + anticipated resources

Planned to be done during the Berlin meeting (0.2 PM):

-   Sort out architecture details
-   Ensure the same common understanding
-   Decide on the most fundamental open issues
-   Adjust architecture to the decisions
-   Synchronize with other sub-topic groups as needed
-   Draft a first set of initial APIs

Planned to be done after the Berlin meeting (May + June; 5 PM):

-   Further detail architecture down to specification level
-   Agree with other subtopic areas on the details

Decisions that need to be made â€“ and communicated

-   Decide on fundamental architecture design: will we have PZP and PZH? How is addressing done?
-   How to identify users, devices, apps, services? Do we need to identify all these entities?
-   How do applications specify their requirements for authentication and identity? E.g. how do they state that they need the user to be "logged in"? We need to walk-through some examples and work out what happens when users have multiple identities or want to remain mostly anonymous. (Issue 9)
-   Should the app request and get credentials or is it webinos which does all the identification and authentication under the hood? (Issue 10) In other words, on which layer does authentication live in webinos?
-   How to authenticate users on devices with limited UI or on devices which are used by multiple people (e.g. TV)? (Issue 11)
-   Which security/usability trade-offs are we willing to accept? Some design decisions increase usability on the cost of security. One of them is the introduction of the PZP and PZH which requires storing credential and other sensitive data on each device of the user.

Additional comments:

We need to review the use cases to determine how to make these decisions. Do we allow for devices other than mobile, desktop, TVs and cars? If yes, we need to consider how to support authentication for them (non-webinos devices). What level of security is appropriate and how to make this work on devices with variable degrees of security. This is impacted by the need to work offline as devices need to cache sensitive data, providing an attractive target for attackers. We therefore need to consider a trade off between usability and security, e.g. allowing for roll-backs to a state before an attack. We need a common understanding on these issues and look forward to establishing this over the next 3 days.

Dave: usability is key for consumer devices, some devices are shared and have lower levels of security. These will have a correspondingly reduced role for handling sensitive information. One idea is to have a union of zones as a basis for policies.

Nick: we will need a tiered approach to synchronization. (cites an offline facebook example).

From the perspective of the id group, we would prefer as simple an approach as practical.

No decision as yet on addressing. Current idea is a URI for the personal zone hub. Users could be addressed by various means, e.g. email address, facebook name etc. Once you get the URI for the zone hub, you can access further APIs.

Should we aim for a standard for metadata, e.g. an ontology for use with RDFa? No, not as yet.

OAuth, and facebook should be part of our solution, as these are already established. First authenticate user to device, and then allow that device to authenticate to other devices/services. But what level of granularity do we need to support? This should be considered in our experiments.

For authentication, we distinguish between devices in a personal zone, as these are pre-registered as it were, and where we need to access services in the public domain or belonging to other users, where we need stronger levels of authorization.

George: can a zone support fine levels of authorization?

You might allow free access for your devices, but impose constraints on friends when giving them access.

Katrin: some devices may only be temporary participants and handled somewhat differently. Dave notes that some devices may belong to different zones according to the context (e.g. home or work).

### Device discovery Device, Application and Service Discovery

Progress made (with resources expended)

Approx spent man months 7.5 PM.

-   State of art analysis for different technologies relevant to (3.0PM)
-   High level diagram defined (0.50 PM)
-   Functional Model & APIs (0.50 PM)
-   Application Discovery (2 PM)
-   Collaborated with Overlay Network on Local discovery demo. (0.75 PM)
-   Working on discovery demos using XMPP, DHT (0.75PM)

Planned next steps (actions) + anticipated resources
Major work left is remote discovery part and how to represent service data.

-   Remote discovery mechanisms, e.g. XMPP, DHT - how it will fit into "Personal Zone" architecture (1 PM)
-   Application discovery (1 PM)
-   Service discovery - features and format (1 PM)
-   Naming and Addressing (0.50 PM)
-   Security Aspects (0.50 PM)
-   USB discovery code (0.5PM)

Decisions that need to be made â€“ and communicated

-   How event handling works with service advertisement & notification? ( to communicate with event handling)
-   How should the device ID be represented to application and how it is mapped to user ID (to communicate with IDM)
-   Expose availability and capability on the network based on policy (to communicate with Policy management)
-   Find device based on certain criteria: descriptions of device & services â€“ properties & Context, e.g. social proximity. (to communicate with Context Management)
-   How does the webinos runtime expose capabilities from non-webinos devices in it’s LAN? A webinos enabled device may proxy services provided by non-webinos devices, e.g. devices that are attached using shortrange connectivity (eg. a Bluetooth connected GPS receiver).
-   Do we really need application IDs?
-   Use of XMPP server for local webinos server and remote webinos server ?
-   Is there a need of a server mode for local connections or will ad-hoc p2p connection be sufficient?
-   What information (security, policies, etc) is stored locally and what is stored on the webinos server and how is this information synchronized (see Identity & User Data work area)

Habib is working on demoâ€™s involving XMPP demo and DHT (distributed hash tables) for wide area discovery. We already have a local area discovery demo. Our main aim at this meeting is to communicate our understanding (see prep notes section on decisions that need to be made and communicated).

Philipp: do we really need XMPP, i.e. is there a pre-existing Web-based solution? XMPP isnâ€™t too fashionable at least for web developers.

It does address federation and multicasting of events. We donâ€™t want to re-invent the wheel, so it is valuable to look at work that has already been done.

Nick: XMPP covers a wide range of things and has been looked at my almost every sub-group, but we need to get some clarity on what we really need.

Weâ€™re not religious about XMPP.

Philipp: if we are to get this into standards, XMPP could make life a little harder.

Ziran: we are looking at alternatives e.g. DHTs for scalable discovery.

Dave: JSON is very popular with web developers and browser vendors, so perhaps a synthesis of ideas makes sense.

Scalability and ease of widespread adoption are important considerations.

George: how may XMPP extensions would we consider adopting for webinos? XMPP pub/sub, event handling, addressing

Nick: Does the developer care if we use XMPP? No, probably not.

With regards to Georgeâ€™s question, we would only adopt those extensions that are useful to us.

We need to lok at the business drivers not just the technical issues (which are probably easier).

### Privileged applications

-   Investigations made in the areas of BONDI, JavaScript and Android.
-   JavaScript privileged APIâ€™s identified for Browser Implementation.
-   Security, Permissions, Privileges, Access Controls areas addressed with respect to Android, BONDI and JavaScript.
-   Use Cases and Requirements identified related to Privileges and Policy Management.
-   Created Use cases, Requirements for Engine diagnose API (Similar to).
-   Produced sequence diagrams in connection to Policy Management Data.
-   Granting permissions, authorization, authentication, Manifest File (Android) and Privileges to a specific user/application identified in Android, BONDI and JavaScript.
-   Conclusion reached to that there are similar issues that needs to be addressed in Policy Management so merged with Policy Management.
    Total resources expended ~4.0PM

Planned next steps (actions) + anticipated resources
* It will be a Sub Task now in the Policy Management.
* Considering Policy management from the perspective of an User, Operator or Device manufacturer. We need to consider how authorities and certificate hierarchies will work.
* Bring in some data from Content Adaption and Content Awareness, Extension Handling, Cross Domain Platforms with Privileged Apps and Services.

Some Issues to look into:
* Where do webinos installers, policy managers and device settings apps sit in the webinos architecture? Do they need special consideration?
* How do proprietary applications (E.g. those installed by the device manufacturer) get installed and how do users know their provenance (e.g. why they were installed, who trusts them)
* How are application certificates, developer certificates, and general root certificates handled?
Total resources estimated ~2.0PM

Decisions that need to be made â€“ and communicated
* Privilege apps and services to Look into issues like Trust boundary, Identity and Integrity checks, Engine and HW management and some critical info of the Engine
* Access sensitive API’s of vehicle, mobile, setup box
* How to protect Runtime Environment from Hacks?
* The Applications to be signed and confirmed by the Device Manufacturer when using Sensitive API’s and Critical data
* To Monitor Engine data, mobile and setup box
* To use Cryptographic methods, Encryption code for Security purposes
Link to preliminary deliverable structure for this work area
http://dev.webinos.org/redmine/projects/wp3-1/wiki/%27Privilege_Apps_and_Services_Usecases_Requirements_Sequence_Diagram%27

The issues are in the wiki, and this can now be handed over to the policy group.

Christian: is there anything we could usefully discuss in the larger group, or can we get good progress in a smaller group discussion?

The latter seems fine.

### Browser plug-in / extension handling

Progress made (with resources expended)

-   state-of-the-art browser plug-ins and extensions (2.25 PM)
    -   Netscape Plug-in API (NPAPI)
    -   Pepper API (PPAPI)
    -   Google Native Client (NaCl)
    -   Chrome Extensions
    -   Node.js Addons
-   initial high level architecture (0.5 PM)
-   proposal on parts to be specified (0.3 PM)

Planned next steps (actions) + anticipated resources

-   Finalize state-of-the-art for FireBreath, js-ctypes (0.1 PM)
-   Revisit and fine-tune architecture (0.3 PM)
-   Finalize components to be specified (0.4 PM)
    -   Coordinate with discovery
    -   Coordinate with application packaging
    -   Coordinate with policy management
-   Write specification (1.5 PM)

Decisions that need to be made â€“ and communicated

-   Add the extension developer as an additional role.
-   Agree on a common understanding what extension will look like. Are we talking about plug-ins in the common browser sense? Or do we have something comparable to Node.js addons and js-ctypes in mind like the Glossary suggests - adding functionality to the js-runtime?
    -   The standard for plug-ins is NPAPI and might be replaced by PEPPER some day. The NPAPI/PEPPER will then have its own window inside the web application, where it can draw things in it. The plugin would be able to expose it’s own API.
    -   This would mean the extension developer would have to follow the rules which are exposed on him by the NPruntime. The specification would be more or less a refer to the NPAPI documentation.
    -   The other approach would more focus on the
    -   Analyzing the requirements relevant for the extension handling suggests to follow a Node.js/js-ctypes approach

We have two decisions to make: do we add the extension developer as an additional role to the webinos glossary? Do we commit to NPAPI plugins, or local/remote extensions via HTTP or WebSockets and using node.js?

If we include support for extension developers, then what APIs do we provide to support them?

Dave: we may also want to consider extensions in relation to apps in the facebook sense, i.e. exposed as iframes.

We havenâ€™t made a decision between in browser plugins vs local server extensions. But the discovery API exposed to web developers should be independent of that choice. There may be some performance and other factors influencing which extension mechanism makes sense.

### Webinos Analytics / Metrics

Hans gives a short presentation.

http://dev.webinos.org/redmine/attachments/549/webinos_analytics_presentation.ppt

The challenge of mapping the collected data into a form that supports effective customization for the user. This relates to webinos work on context awareness and content adaptation, but also involves security and privacy issues.

Lots of complications, e.g. multiple userâ€™s with same IP address, user switching computers, detecting session end-points, and the involvement of multiple 3rd party servers.

Hans provides pointers to state of the art practices for web analytics for hosted apps and local analytics for installed apps. There are guidelines for improving ranking to make it easier to find a site, along with evaluation tools.

We need to discuss whether we need a niche or broad focus for analytics, and to outline an architecture, including the sharing of context data.

George: analytics combine metering and business models, the only thing we can do right now is the metering aspects.

Nick: a few of us need to sit down over next 3 days to figure out what is achievable for WP3. One thing we need to think about is user consent. Dave adds that we need to factor in transparency.

John: we need to manage this carefully to avoid a risk of bad press. Dave notes that we can turn this around to good effect with opt-in schemes with clear added benefits to users.

### Event handling

Progress made (with resources expended)

-   First draft architecture - 0.25 PM
-   XMPP for Event Handling state of the art analysis - 0.15 PM
-   Event ontology (format), taxonomy (types) and basic/generic handling - 0.40 PM
-   Event-based RPC - 0.05 PM
-   Publication/subscription mechanism - 0.15 PM
-   Application-level event generation and listening - 0.15 PM
-   Demo/prototype implementation - 0.20 PM
-   Notifications - 0.10 PM
-   Project management/coordination - 0.15 PM

Total: 1.60 PM
Planned next steps (actions) + anticipated resources

-   Complete open tasks - 1.00 PM
    -   Event ontology (format), taxonomy (types) and basic/generic handling - 0.05 PM
    -   Event-based RPC - 0.10 PM
    -   Publication/subscription mechanism - 0.15 PM
    -   Application-level event generation and listening - 0.15 PM
    -   Demo/prototype implementation - 0.45 PM
    -   Notifications - 0.10 PM
    -   Project management/coordination - 0.25 PM
-   New tasks - 1.50 PM
    -   Event caching - 0.25 PM
    -   Device-level event routing - 0.25 PM
    -   Network-level event routing - 0.25 PM (XMPP?)
    -   Check for privacy/security issues - 0.25 PM
    -   General specification review and "normalization" - 0.50 PM

Total: 2.50 PM
Decisions that need to be made â€“ and communicated

-   Are we going to use XMPP for network-level event routing? (this has several implications in practice)
-   To which extent do we expect/desire/require to have Webinos on the "servers"? (i.e., can we avoid/reduce XMPP <-> Webinos events mapping?)
-   What is a service? (this is especially related to RPC and publication/subscription - push vs pull services)
-   How is the WRE structured? (browser + server and microkernel-like arrangement debates)
-   Who defines event handling and event-based APIs (3.1 vs 3.2)?
-   What about i18n? (not so obvious in some cases, e.g. remote notifications)
-   Is URI ok for event types (and/or for generic identifiers)? And SHA-256 for event identifiers?

Additional comments

One big issue is whether we use XMPP and the role of distribution servers. (See meeting prep for full list).
Who will define the event handling and event-based APIs?

Internationalization is important or is it? If we stick to functional APIs human language isnâ€™t important as the bindings will be handled at a higher level. Dave reckons that human assigned terms do make their way into protocols e.g. multi-cast DNS, so this isnâ€™t such a clean division.

What guidelines do we need to follow when assigning URIs? Perhaps the URI itself is unimportant as it is the payload of the event that matters?

What is the connection to context APIs? Dave: we need to distinguish between events directly exposed to web developers and eventing mechanisms aimed at third party component developers.

Dave we should consider whether our use cases involve a need for coordination of eventing (device coordination) e.g. where events are routed via a controller to ensure correct or fair operation of resources.

### Overlay networking model

Dave was running through slides covering initial state of the art and implementation findings. Full list of technologies covered can be find in the Berlin meeting preparation wiki.

http://dev.webinos.org/redmine/attachments/534/overlay-networks-2011-Berlin.pdf

_We break for lunch._

### Context Awareness and Adaptation

Progress made (with resources expended)

Based on the data reported roughly 6pm have been spent on this area - yet almost roughly 2pm correspond to the participation to the project meeting in Torino.

Progress made

-   Merging the Context Management and Context-Driven Adaptation areas and scoping objective (0,5 pm)
-   Mapping aspects of the new area to underlying context related requirements (0,5 pm)
-   State of the art Analysis (2,5 pm)
    -   Analysis of relevant EU research projects on aspects of context awareness (more than 20 projects have been reviewed on webTV, mobiles, e-Accessibility, context models, etc)
    -   Review of standards and technologies for structuring context data (IDEAL 2, Activity Streams, RDF/RDFs, microFormats)
    -   Review of available technological solutions in support of context awareness aspects (Android Fragments API, Volantis Mobile Content Framework, etc)
-   Identifying Items to be delivered and producing a whitepaper on webinos Context Awareness framework (0,5 pm)

Planned next steps (actions) + anticipated resources

The items that are envisaged to be delivered within the next 2 months are:

-   Webinos Context Model (concepts and their attributes in the context model)
-   Form and representation of the Context Model (i.e. RDFa)
-   Storage facility of Context Data (in coordination to the work done in other Areas)
-   Access layer to context data (in coordination to the work done in other areas)

Decisions that need to be made â€“ and communicated

Coordinate with the work done in other areas to avoid redundancies and mis-alignment. In particular

-   User ID and Data Management for creating the user profile and acquiring context data (what protocols we actually adopt i.e. Portable Contacts, XRD, open social, FOAF).
-   What is the context acquisition mechanism, we need to ensure transparency among the many endpoints webinos has (one user, many devices, apps across devices) - we should re-use existing open approaches such as the open graph protocol
-   Privacy for allowing access to context data in alignment with the webinos privacy framework
-   Device Application and Service Discovery for supporting context reasoning functions (adaptations and social proximity)

Additional comments

Real-time deep analysis of social proximity is expensive and may not be practical.

Dave: do think that it may of interest to webinos to look at federated social web rather than just to rely on facebook?

George: yes, and I will circulate my paper for the upcoming workshop.

Hans: can context be used together with social proximity?

George: yes. (he talks about the movie sharing example).

He returns to the performance issues in deep analysis of social graphs. Current social networks are silos and hide their implementations. Facebookâ€™s seems to have some performance problems. Dave wonders if federated approaches might help.

### Policy Management

Progress made (with resources expended)

-   First draft of the policy management architecture
    -   State of the art: XACML, PRIME, PrimeLife, PERMIS
    -   Selection of requirements related to the policy management architecture
    -   Data flow diagram for a distributed architecture based on the PrimeLife approach
-   Definition of policy interaction points
    -   Description of the state of the art, which looks at WAC, BONDI, Mozilla, Chrome and W3C policy mechanisms
    -   A view of where policy could be extended more generally
-   Research into policy synchronization
    -   Example use cases
    -   Components needed for policy update/synchronization
    -   Extension to the defined architecture

-   Some thoughts on policy elements context
-   Mock-ups for work on policy GUIs
-   Some XACML (-like) policies and configuration examples
    
    Total resources expended ~4.4PM
    Planned next steps (actions) + anticipated resources
    
    * Investigate on XACML delegation
    * Investigate how remote script access control will be defined
    * Look into JavaScript APIs as part of context management to work out how policies will be handled in JavaScript
    * Looking further at issues of context handling and policy
    * Combination of identity management architecture with policy architecture
    * Setup test environments and demos
    * Work on specification deliverable
    
    Total resources estimated ~3.4PM
    Decisions that need to be made â€“ and communicated
    
    * Do we need policies for non-webinos applications? (CAP-DWB-FHG-002) (PDP cloud component)
    * "Positive/Negative/… decision taken" is an Event? (DA-DEV-NTUA-002) a change in a policy seems to be notified by an event.
    * Same-origin security model. How are we allowing XHR requests from apps to other domains? There may be some CORS solutions…
    * What will the javascript APIs for access control information look like to developers? Beyond just a try/catch error handling- how are current policy settings queried? E.g. policy.canAccess("...")? Maybe very similar to the DeviceStatusManager in WAC?
-   Can we include delegation in the policy framework?
-   Can we issue short-lived credentials for sharing device features between devices? OAUTH?
-   How do we package scripts properly? <script> tag or another "widget"?
-   How do we specify and protect policies on the device, particularly those relating to operator/content provider/manufacturer policies?

Additional comments

Is the decision made by applying a policy an event? (e.g. success or failure).

Nick: if a user makes a decision, that might change the policy, and it may be valuable to communicate changes in policies to applications. This would be a novel feature for webinos.

Nick: CORS doesnâ€™t apply to installed apps (widgets), but WAC has a solution whereby installed apps can gain privileges for XHR to specific hosts.

Do we provide a means to be able to ask if it can access a given service/capability? This could be exploited by hackers to probe weaknesses more easily.

John: is there a means to attest to remote scripts, i.e. from other domains?

Nick: the policy language should allow for allowing scripts from other domains.

We agree that we should be explicit about weak points, e.g. use of JavaScript eval and innerHTML.

What do we need to do to protect policies on the device, especially those related to the operator, content provider or device manufacturer?

John: this also includes personal data. Dave adds: we should look at what browser vendors are doing today in respect to synchronization of personal data - are they doing a good job and could we do better?

### Nickâ€™s Big Architecture Diagram

![]({width:300px}http://dev.webinos.org/redmine/attachments/552/pzh.png)

Personal Zone Hub (PzH)
Personal Zone Proxy (PzP)

![](diagram.png)

App needs to be trustworthy

- the policy of the App is linked to the PzH
Example:
- policy update

AppID:
- this app can be trusted (information for others)
- App attestation mechanism

make use of URI

Problem: Different Runtimes (browsers) use different rules

Q: Every javascript function goes through the PZP ?
PZP as mediator
Nick: When the controller connects to the PzP is should be protected
similar to apple bonjour - we give name to things.

Usecase:
Controller connects to the PZP
From the point of the mobile device - next is to get all available devices in the zone.
Devices (STB) needs to be registered to the PZH

Some java script code presented:
Websocket example: (what JS developers want to see)

Webinos view:
look for webinos registered devices.

Zone construct:
- user intelligent zone

Q: Do we want to look for services or look for devices?

Nick: PZH need to know what kind of App has called.

Communication:
When Mobile connects to the STB, the mobile ask the STB for permission.
Question about the policy. is my STB visible/ accessible to the mobile
-> delegate this decisions to the owner of the zone.

Nick goes on:
JSON call from PzP to PzH. Answer comes back json…
assume all services are discoverable across the zones:
- STB declares its service to PzH
- mobile device: get service functions could be WebIDL

concentrate on the basics.
- define the JSON structure for communication between PzH and PZP.
- we need a policy interchange format

Services, people and devices in the zone should be kept in mind.

Another layer we have to introduce:
When we press play on the mobile will the media going to play on the STB?
What information are send to the PzH? this information is now accessible by the STB.

What is missing in the end-to-end view?
- where is the UI generated? -> think about that.

Nick: back to the model:
PZP (mobile):
is it possible to authenticate against the PzP without seeing the PZH?
- caching of credentials/tokens.
multicast communication between devices possible between devices , due to the cached tokens. (assuming the PzH is not in reach).

E.G. a USB connection between two devices.
- it should now be possible to play media on e.. the STB served by a mobile.

Option to disable the discover function to avoid discovery between devices.

Q: find and define names for all components so that every group can use the same acronyms/names?

Christian: planing further group work. - We will have a short (1 hour hard stopped) session on Wednesday morning trying to draw an updated architecture with (optimistically) all bits in place.

2.6 Meeting
-----------

GeorgeV: the objective of the meeting is to lift any delusion and answer questions on the objective of this specific task

GeorgeV: focus of 2.6 is now
* identify licensing and IPR of platforms
* identify commercial risks and advantages of platforms
* analyze and recommend platforms
* platform is focusing on the â€œunderlyingâ€ OSes and core web.app execution/rendering

Objective of 2.6 is
* recommend a solution that can be implemented in 1yr time
* ensure we produce a cross-platform implementation
* recommend a solution that is commercially stable, viable and marketable
* recommend a solution with no major licensing issues
* demonstrate we have an educated and well studies choice

…see GeorgeV presentation for an extensive list of the objectives

Peter: we need the knowledge of available platforms/technologies of big partners in the consortium

nick: we need to start by trying to structure on the primary project areas (automotive, home media, etc)

Link to Google spread sheet for OS evaluation: http://bit.ly/k73Ay2

nick: we should have one more mobile platform

anders, ziran: Android is a first priority

Decisions:

in mobile we go for Android and if resources are available we examine meego

for home media: Android, MediaRoom and MythTV and CoubaVision (from Telecom Italia) â€¦.others should be considered also though

for automotive: GENIVI (QT on Meego)

for pc all options should be considered: PC, MAC and Linux

for webruntime we go for Mozilla or Qt and if no Chromium

nick: someone has to work on the reconciliation with the technical architecture (does the selection satisfy all architecture criteria and components)

peter: we need to think if we can complete the work on time?

Stephan: what we need (primarily) delivered from 2.6 to proceed in WP4

Nick: we need a completed example by end of next week the latest

GeorgeG: we should consider a methodology section on how to validate our results/selection of platforms

Further notes from WP 2.6 meeting by Anders Isberg

The expected outcome was agreed upon in Turin. The purpose is with this meeting is to follow-up on the subject and further breakdown the work.

Focus is on:

a) Identify licensing and IPR characteristics.

b) Identify commercial and technical risks.

c) Analyze and recommend based on a) and b)

d) Platform focus is on underlying OSes and core web application execution/rendering.

Primary objects are:

a) Recommend a solution that can be implemented within a 1 year time frame.

b) Ensure that the platform is cross-platform

c) Recommend a solution that will be commercially stable, viable and marketable beyond a 1 year time frame.

d) Recommend a solution that will not have major licensing issues

e) Demonstrate that we educated & well thought choices.

Nick: In terms of platform we should be able to agree. Webinos just need to document the justifications. Legal aspects are more complicated.

Objectives with the meeting:

a) Review/discuss/amend the list of OSes/platforms

b) Review/discuss/amend the list of criteria

c) Set deadlines for finalizing a & b above

d) Breakdown of work.

The work is documented in http://bit.ly/k73Ay2

Peter C: What is the target? Is it a platform for phase 1 or is it a final decision. Assume it is for phase 1.

PC: Windows 7, OSX and Linux/BSD need to be supported.

Mobile Platforms: during the review, it was stressed that more than one mobile platform should be picked. During the meeting it was proposed that Android (1:st choice) and MeeGo (2:nd choice) would be the proposed candidates. However, the future for MeeGo it is still somewhat uncertain due the fact that Nokia is restricting that means that the decision needs to be revisited.

Home Media: Cubovision/MeeGo (first choice) and Myth TV (second choice). Google TV and Android should be revisted again after Google I/O. FH shall explore potential other options.

Automotive: Genivi (QT/MeeGo). However must be verified with BMW.

Peter C: There should be criteria about how different options fit in to the webinos architecture.

Peter C: Is it realistic that the WP 2.6 could deliver in June. Should the delivery be postponed and are there valid arguments.

Stephan: Technically, the submission date is in July. The review will take place in October.

Georg: The IPR analyze should be able to deliver if there is an agreement which platforms that should be supported next week.

Activities:

-   Do cross OS analysis.

-   Add criteria about how the different platforms fit into the webinos architecture.

-   Check potential license limitations working with Mozilla.

-   Try to find contact person at QT.

-   Check with TIM about the availability for a Cubovision platform.

3.5 Meeting
-----------

Johnâ€™s slides -
One: http://dev.webinos.org/redmine/attachments/509/berlin2011-overview.pdf
Two: http://dev.webinos.org/redmine/attachments/536/T35-2.pdf

We would like to have a first cut at the security APIs for the 3.2 work. For secure storage, we want to enable the use of platform specific capabilities. We should look at what is being done for securing offline storage for web applications, and for browser synch which deals with user credentials, bookmarks, form contents etc. and is highly sensitive.

Isolating applications from one another involves both execution and data. Web application specâ€™s gives us some of this along with clean mechanisms to message between apps (PostMessage). It would be valuable to see what is needed beyond the current W3C work.
Cloud-Security Models

How do we provide security of remotely-held content? OAuth is one mechanism to consider. We need to choose a good definition of clouds. For the webinos cloud, how do you join, leave, revoke, etc.

How to secure PZH? It stores and synchronizes user data. Commonly encrypted data is stored in â€œthe cloudâ€ and no key is provided but since the PZH has to synchronize the key is needed.

We are led through the summary of decisions needed.

For the corporate environment, we should introduce a means to support remote management, by a suitably authorized client.

Dave asks if 3.5 is covering privacy policies, e.g. machine interpretable policies as part of authentication? See paper on P3P in JSON as one possible approach.

We should think about decoupling the the usage of the feature from the features that an application requires. WAC has been looking at using the W3C POWDER spec. Does it include the data handling obligations? POWDER was originally created for labeling content, but has evolved its scope and we should take a look.

John: is there any work on user interfaces for such use of POWDER?

He asks how much time people have available for work on the June deliverable? The next is in month 24. As a reminder the D03.5 deliverable due June 2011 should cover a security framework for accessing device capabilities as well as for integrating cloud services in a secure manner. This should include secure storage.

System Architecture Session
---------------------------

A one hour system architecture session was added to the agenda.

Recap of the architecture:
- private cloud vs. clouds from other users, addressing via URLs
- connect to devices via PZH inside the own cloud and to other personal zones

Proposal:
Make the PZH not only the hub for the personal zone (cloud), but a general hub. In order to reduce the hierarchy complexity and keep it flat.
Nick: â€œtechnically possible, might be hard for the user to understandâ€

Discussion about what kind of implementation is used on the devices to connect: Talks about which runtime or adapters are needed should be clarified later on (implementation detail).

Task 3.2 & Deliverable, phase 1
-------------------------------

Status:
* Investigates existing APIs
* Still missing: APIs that are identified as architecturally needed, but donâ€™t exist yet

HW Resources category
* some existing W3C DAP APIs identified
* proposal for new APIs for TV, Vehicle, Sensor

Communications APIs category
* Related to 3.1
* not currently clear whats needed

Application Execution APIs cateogry
* important API with a potential for innovation in webinos context

Discovery APIs category
* see slides

Security and Privacy APIs
* see slides

User installed and app data APIs category
* no progress, not yet clear what to specify related to WP3.5

Access to APIs on remote devices

Claes mentions that this is probably the most important part of the work in this task and how it is a big chance for innovating within webinos.

See slides for proposal which APIs should be part of the 1st Deliverable.

How to present the Deliverable?
* Master index file that links

-   new webinos APIs

-   wrap existing APIs
-   results of investigations

Question: How do we make clear that the two main API categories are seen as a whole component of webinos.
Meaning the remote addressing/communicating APIs and the â€œdevice featureâ€/app date/user data APIs (like WAC).

Nick/Stephan: We keep them as one whole API. Instantiate the parts through one â€œmagic APIâ€.

Stephan: The deliverable in June should be seen as a â€œsnapshotâ€ that can and will be further improved further down the road. Of course it should be a good first deliverable.

Toolchain talk
--------------

Everybody should try to check out the repository before Thursday using the test repository for testing.

See: http://dev.webinos.org/redmine/projects/t3-2/wiki/Getting_started_with_the_source_and_tools_from_the_Git_repository

Specs are written in web IDL and some markup comments (similar to doxygen). See http://widl.webvm.net/svn/widlproc/trunk/doc/widlproc.html

Basic workflow of what happens when you check in **.widl (web IDL) into the repository:
1. on check-in widl files are converted to xml and then to html
2. view pretty html output at http://dev.webinos.org/specifications/draft

OBJECTIVE: Everyone should try as soon as possible (middle of next week) to upload a draft web IDL file. â€œPut something out there in order to get comments.â€

Git Howto
http://dev.webinos.org/redmine/projects/wp-0/wiki/Using_Git
Remember: Credentials are the same as on Redmine.

(Git demo follows)
Please use Google to look at the vast documentation and tutorials on how to use Git. (or, in need, contact Dieter)

h3. API design patterns

(inspired by WAC)
Goal: have a consistent API, with a common set of patterns

Pattern for functions:
** functions with callbacks (async) could use two callbacks (one for success and one for error) vs. one callback for both success and error vs. a object that holds loads of callbacks (complex)
-> decision needed

Return value for async methods:
* PendingOperation vs. id vs. void
-> PendOp or id would allow to cancel a async method vs. no reply value might add to the usability of the API

Error handling:
* define new Error class which is used by Webinos defined APIs (agree on error codes)
* every API specifies their own Error class, there may be overlap, but each API is more â€œcontainedâ€ (used by geolocation and DAP)
* reuse the ECMAScript Error class, has node error code attribute

[unrelated side question: do we need localized error messages? Nick: maybe have an modules for that on top]
-> decision needed

Error handling in synchronous methods:
* throw an exception

Error handling in asynchronous methods:
* return error in error callback, needs error callback argument to be provided
* throw invalid argument error in case the error callback is missing

Challenge of type coercion for function arguments. Presents challenges for implementers.

Nick and Claes agree that we shouldnâ€™t wait for a decision for these patterns before starting to write API specs. Things can be streamline to agreed upon patterns later on.

Minutes of individual 3.2 sub-groups
------------------------------------

### Group 3: â€œApplication Data APIsâ€œ and â€žUser and installed application data APIsâ€œ (Room 1015)

Includes: Contacts API, Calendar API, Messaging API, Gallery API, Payment API, User Profile API, et
Participants: Christian Fuhrhop, Ronny Graefe, George Gionis, Ayse Goker, Grzeegorz Szerlomski

Contacts API

Contacts API will be based on W3C contacts API. However, we will need an additional call to retrieve a serviceObject from another device/user/application instead of just allowing a local one.
Suggestion:
caller void getContactsList (ContactsListGetCB successCB, optional ContactsListGetErrorCB? errorCB, optional ContactsListGetID? contactsListID);
};
The ID needs to be retrieved by a previous call to the discovery API.
_
Note: This session was in parallel to the service discovery session, so the ‘getContactsList’ function was seen as a stand-in for whatever the search function would look like. Given the results of the discovery session, this would be most likely something like a call to webinos.findServices(user, service type, options, filters, interface) and then returning a ContactsList. The same applies to calendars, messaging, gallery_

Calendar API

Basically same for calendar API
Suggestion:
caller void getCalendarsList (CalendarsListGetCB successCB, optional CalendarsListGetErrorCB? errorCB, optional CalendarsListGetID? calendarsListID);
};

MessagingAPI

Since W3C currently allows only the sending of messages but defines (as yet) no method of
receiving or accessing messages, we need to go with the BONDI/WAC specification for this API.

As for the contacts and calendar APIs, we need to provide some function to access the messaging function on other devices, so instead of just accessing the DeviceapisMessaging interface, we need some method to provide a list of messaging objects.

GalleryAPI

For the gallery API, the W3C gallery is sufficient for webinos needs. As with the contacts, calendar and messaging API, we need some way to access remote galleries as well, so we need some method to retrieve a list of galleries, based on some discovery function here as well.

PaymentAPI

We will have a payment API and base it on the GSMA REST interface. As a first approach, we will try to map the GSMA REST interface directly to JavaScript function calls, unless we find a good reason to simplify (e.g. using just a â€œmake a payment transactionâ€ call instead of the (implied by the GSMA interface) â€œfill the shopping basket with items individiually and then go to checkoutâ€ concept). At the moment we didnâ€™t find any good reason for providing a simplified interface, since the GSMA steps seem straightforward and simple enough:
- Charge a user
- Refund a user
- Reserve an amount to charge
- Reserve an additional amount (i.e. extend an existing reservation)
- Charge against the reservation
- Release the reservation

User Profile API

Suggestion: Provide a set of profile data for the personas and make them available in whatever developer system webinos provides, so developer has a set of profiles to work and experiment with and which are mentally connected to the available descriptions, so developers donâ€™t have to use generic John Smith, Jane Smith, or test, A B, C D names, but develop their applications with (semi-) realistic users in mind.
Personal description in User Profile should be based on the W3C contact format but may include (to be studied by George Gionis) extensions to handle relationship information (similar to the one suggested by portable contacts) by providing some relationship description and a reference to a user profile the relationship applies to.

Open issues (to be worked on by George G and Ronny) are:

-   Whether something similar might also be used for â€˜relationâ€™ to devices in the user profile (e.g. â€œuser owns a web TVâ€, â€œusers primary phone is his Nexusâ€)
-   Whether the generic â€˜getProperites/setPropertiesâ€™ makes user profile properties available to all other applications, only the writing application or whether there is some method to set a granularity to that,.
-   Whether we will have a list of predefined properties or relationships or whether this will be open to the application.
    -   Pros for undefined list: Open to market developments, applications can choose their own vocabulary.
    -   Pros for pre-defined list: Only then security relevant properties can be controlled (some properties are more sensitive than others), itâ€™s easier to suggest filters to users if properties can be categorized (as opposed to list all of them without further information), applications can re-use properties set by the user via other applications (e.g. if there is a defined property â€œcolourblindâ€, it can be used across applications, if it is left to the applications itself, it might be â€œcolourblindâ€, â€œcolorblindâ€, â€œredgreenblindâ€, â€œtrichromacyâ€ or something else, with true/false value or numeric value - similar things might apply to more common user profile information such
        as â€˜preferred languageâ€™)

Installed application data API

Installed application data - currently there is no clear reason for having an API allowing direct access to data about other installed applications. For the use cases it is sufficient to provide a way of discovering applications based on search criteria (or â€˜intentâ€™) and then instantiate/run those applications based on a returned application identifier. Direct listing of other applications does not provide significant additional value but opens up security and privacy problems.

h3 .Context Awareness-Adaptation sub-group

-   we need a flexible-computationally powerful way to represent contextual information
    to be updated by GeorgeG

Extra group on the architecture fundamentals - Personal Zone layout, Identification and Authentication
------------------------------------------------------------------------------------------------------

Purpose: detail architecture further and gain common understanding of the purpose and functionality of components as well as sequences of messages during communication
Attendees: Nick, Sven, Christian Schaefer, Andrea, Steffen (by phone)

Results: Agreed on working assumptions which are prerequisites for further work. These assumptions are listed here.

-   each user has one personal zone
-   each device is assigned to exactly one zone
-   Each zone has exactly one Personal Zone Hub (PZH) which is accessible via the Internet
-   the PZH has a unique identifier represented by a URI
-   each device has exactly one Personal Zone Proxy (PZP) which synchronises all management data with the PZH
-   the PZP is used in offline cases where the device has no access to the PZH
-   management data is
    -   user identities
    -   list of devices belonging to the zone
    -   credentials (e.g. group key which is shared by all the devices in the zone)
    -   policies
    -   probably more
-   the webinos runtime and applications always talk to the PZP when they need information from the PZH
    -   if the PZH is accessible, the PZP is up to date as it synchronises with the PZH
    -   if the PZH is not accessible the PZP is anyhow the only component to talk to
-   The PZH has the role of a registrar. The devices register with the PZH when they are turned on provided they have Internet access
-   if someone wants to contact a user, he asks the PZH of that user via which device the user can be contacted currently. In other words, the PZH knows which devices (among those which are currently online) offer which service
-   User authentication is two way: first user authenticates to one of his devices, second the device authenticates to other devices/services on behalf ot the user
-   Authentication is different depending on Internet accessibility and who to authenticate with
    -   within the zone of a user, all devices share a common group key which allows them to establish a secure and authenticated communication channel
    -   for inter-zone communication between the zones of two users, there is a pre-shared key which is used to establish a secure and authenticated communication channel
    -   if a device contacts a public service on the Web, authentication is performed via the PZH. The PZH asks an Identity Provider (IDP) for a token. The token is digitally signed by the IDP and presented to the service by the device which intends to communicate with the service. The service can validate the token. The token is sent around using OAuth but we still have to decide how the user is authenticated to the IDP
-   Authentication in the inter-zone communication case is done by some knowledge the users have. They may know the other userâ€™s email address, Facebook account identifier or any other identity. From this identity the URI of the PZH can be looked up (e.g. by using DNS SD or Web Finger) and then the PZH can be contacted to establish the connection.
-   For privacy reasons, devices when sending discovery messages should reveal as little identifying information as possible
    -   In the worst case we are just as bad as BT and UPnP here without any improvement as we currently have no idea on how to tackle the problem
-   for sensitive operations (e.g. banking, shopping) the) application can request the userâ€™s reautthentication
    -   elevated â€œcertify userâ€ flow
-   shared devices, such as TV and set-top box,
    -   has more strict secure policy
    -   elevates rights for a particular user he authenticates to the device

Comments during the discussion with all

-   there are privacy preserving techniques; they are for authentication but they also may work for discovery. We have to check
-   What is new on the stuff webinos provides?
    -   proper user authentication on the Web
    -   improve on machine readable privacy improved policy based authentication
    -   mutual authentication: to make sure it is the same service as before
    -   zero knowledge proofs for proving certain properties (e.g. age is above 18) without disclosing the age
         + there is no need to involve the certification authority to generate these proofs

Discovery of devices and apps brought to the browser
* There is likely the need to assign a device to more than one hub. E.g. in the case that a user uses his device for private and professional purposes, there may be a hub in the company and one at home.

Planing of Deliverables for Tasks 3.1, 3.2, 3.5
-----------------------------------------------

Christian shows draft deliverable structure: http://dev.webinos.org/redmine/projects/wp3-1/wiki/Draft_Deliverable_Structure

-   all 3 Deliverables should follow
-   already draft for D3.5 to be made aligned…
-   general Timing: contribution / work until end of May; Meeting & Review then June (incl. finalisation)

Deliverable
Christian: how close are we acually to delivering our work (question to all working groups) ???

-   Sven for User ID: optimistic for delivering, still there are a lot of issues to resolve (trials by coding are required), many people involved in the topic are not so experienced in application programming -> really hard to provide an estimate now. we now have a definite picture of how things should be for phase I. we need to sync with Nick and Andre on what are the important things for phase I.
-   John for Policy: we can get something there in time. in the process of delivery we need to cut off some open questions (i.e. policy synchronisation, etc)
-   Ziran: we are trying to demo some concepts. generally in a good position.
-   stefano: in our area we lack the resources to do a thorough state of the art analysis except from a study of XMPP.
-   GeorgeG: in Context Awareness we are oblidged to follow up on the work that is done in other APIs due to the fact that we have to re-use the specified webinos API in order to retrieve context data. -> APIs from Claes and Christian are already in draft phase so they can be reviewed.

Claes: Do we have one collective version of the deliverables or we maintaine seperate ones
Stephan: we could have on collective version, but we need to deliver three descrete deliverables to the Commission.
Stephan: for now we have to focus in one â€œbigâ€ collective deliverable

### Deliverable 3.1

-   Introduction + Methodological Approach -> Christian
-   Background -> all groups
-   High Level Architecture -> Dave
    -   Foundations (extentions fits here) -> Andre
    -   Authentication -> Sven
    -   Discovery-Spec -> Ziran
    -   Messaging -> Stephano
    -   Context -> GeorgeG, Ayse
    -   Policy/Security (includes priviledged apps) -> John, Krishna
    -   Analytics -> GeorgeV
-   Conclusions ->Christian
-   Glossary -> Matthias
-   Examples -> Hans

there should be some examplary description of use of components (for each & aligned to an overall scenario, also covering 3.2 + 3.5)
could be potentially input / reuse in WP5

### Deliverable 3.2

-   Intro (we need to have the wiki pages up to date for this) -> Claes
-   Methodology + Tools (why we user the specific format for describing APIs) -> Claes
-   Basic API structure -> Claes
-   Patterns -> Daniel
-   NEW APIs (IDL + Wiki)
    -   Architecture APIs (i.e. authentication api)
    -   Function APIs (i.e. DAP APIs)
-   REFERENCED APIs (IDL + Wiki)

![]({width:300px}deliverable.png)

A deadline of two weeks starting from 6th of May is given to all engaged partners to provide their contributions.

